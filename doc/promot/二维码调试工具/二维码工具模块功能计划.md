# 🎯 二维码生成与解析工具 - 功能开发蓝图

---

## 🧩 核心模块概览

| 模块 | 描述 |
|------|------|
| 文本内容输入模块 | 输入要编码的原始内容 |
| 样式自定义模块 | 自定义颜色、大小、边角样式等 |
| logo 嵌入模块 | 上传 logo 图片并嵌入二维码中心 |
| 注释文字模块 | 添加二维码下方的注释信息 |
| 下载导出模块 | 导出二维码为 PNG/JPG/SVG 格式 |
| 二维码解析模块 | 上传二维码图片并提取其中内容 |
| 实时预览模块 | 所有设置即时可视化反馈 |
| 📐模板样式模块（新增）| 根据预定义模板生成带边框和说明文字的二维码 |

---

## 📌 功能模块详解

### 1. 文字内容输入模块

- 支持任意 UTF-8 字符（中文、英文、emoji、链接等）
- 输入即更新二维码内容
- 校验机制：若输入为空，则禁止生成，提示用户

### 2. 样式自定义模块

#### 📐 尺寸与布局
- 二维码大小：10 ~ 500 px
- logo 大小：5% ~ 30%（相对于二维码）
- 注释文字字体大小：10 ~ 50 px
- 注释文字间距：5 ~ 20 px（与二维码距离）

#### 🎨 颜色配置
- 二维码前景色：纯色 / 渐变
- 背景色：纯色 / 渐变
- 边框颜色：可配置
- 注释文字颜色：可配置

#### 🔳 形状设置
- 定位角形状：正方形 / 圆形 / 椭圆
- 定位角内点：正方形 / 圆形 / 椭圆
- 二维码内点阵形状(码点形状)：正方形 / 圆形 / 椭圆
- 渐变方向：横向 / 纵向 / 斜向
- 最终生成二维码的形状：正方形/圆角正方形 （如果有难度可先不实现）

---

### 3. logo 嵌入模块

- 支持上传 png / jpg / svg 图片
- logo 默认居中嵌入
- 自动按二维码尺寸缩放，避免遮挡
- 大 logo 提示容错率风险(后续支持)

---

### 4. 注释文字模块

- 可填写说明内容（如：设备编号、使用说明等）
- 自定义文字颜色、大小、间距
- 自动居中
- 超长内容自动换行或截断提示

---

### 5. 下载导出模块

- 支持导出格式：PNG / JPG / SVG（可拓展 TIF）
- 默认导出分辨率为高清（2x/4x）
- 自动命名：`qrcode_时间戳.格式`
- 若未生成二维码则提示“暂无可导出内容”

---

### 6. 二维码解析模块

- 上传二维码图片（支持 PNG / JPG）
- 使用 `jsQR` / `@zxing/library` 解码
- 成功后展示结果，并支持一键复制
- 解码失败提示具体原因（非二维码、识别失败、图像模糊等）
- 禁止执行或跳转潜在危险内容

---

### 7. 实时预览模块

- 所有设置实时渲染展示
- 可视化呈现当前二维码样式
- 支持一键重置样式为默认
- 响应式设计，适配移动端

---

### 8. 📐 模板样式生成模块（新增）

#### 功能目标

根据设计好的模板结构，快速生成特定风格二维码，适合如下应用场景：

- 固定式样设备二维码标签
- 企业标准二维码样式输出
- 教育或校园统一样式

#### 初始模板示例结构（如上传截图所示）

- 带有边框的二维码
- 底部固定文字区域，如：`设备编号：NBH05419134`
- 预设样式（蓝色边框 / 居中对齐 / 固定字体）

#### 功能点

| 功能 | 描述 |
|------|------|
| 模板选择 | 默认内置一个模板样式 |
| 模板二维码信息绑定 | 内容仍来源于用户输入文本 |
| 模板说明文字编辑 | 支持填写“设备编号：XXXX”类说明 |
| 模板样式锁定 | 样式不允许被其他自定义项覆盖，确保一致性 |
| 模板拓展 | 后续可通过配置文件 / JSON 添加更多模板结构 |
| 导出与普通二维码一致 | 可导出为 PNG/JPG/SVG 等格式

---

## 🚧 异常与边界处理

| 情况 | 应对方式 |
|------|----------|
| 输入为空 | 禁止生成二维码，提示“请输入内容” |
| logo 不合法 | 提示“文件格式不支持” |
| 模板说明太长 | 自动换行或提示“内容超出模板限制” |
| 解析失败 | 明确提示原因 |
| 下载前未生成二维码 | 显示“请先生成二维码” |

---
